<!doctype html>
<html>
  <head>
    <title>Proxy Generator</title>

    <link href="style.css" rel="stylesheet" media="screen">
    <link href="print.css" rel="stylesheet" media="print">
    <link href="favicon.ico" rel="icon" type="image/x-icon">

    <link href="pkg/wasm_proxies_bg.wasm" rel="preload" as="fetch" type="application/wasm" crossorigin="anonymous">
    <link href="pkg/wasm_proxies.js" rel="modulepreload">
    <link href="https://api.scryfall.com/" rel="preconnect" crossorigin="anonymous">
    <link href="https://cards.scryfall.com/" rel="preconnect" crossorigin="anonymous">

    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  </head>

  <body>
    <!-- Dummy script tag to prevent FOUC -->
    <script>0</script>
    
    <script type="module" src="interface.js"></script>

    <div id="loading-overlay">
      <span id="loader"></span>
    </div>

    <div id="options">
      <div id="options-wrapper">
        <div class="flex-padding">
          <fieldset id="proxy-options" class="boxed option-box">
            <legend>Options</legend>

            <fieldset class="boxed option-box-vertical">
              <legend>Image quality</legend>
              <div class="list-option">
                <input type="radio" id="image-type-small-radio" name="image-type" value="small" class="clickable"><label for="image-type-small-radio" class="list-option">Small (lowest quality)</label>
              </div>

              <div class="list-option">
                <input type="radio" id="image-type-normal-radio" name="image-type" value="normal" class="clickable"><label for="image-type-normal-radio" class="list-option">Normal</label>
              </div>

              <div class="list-option">
                <input type="radio" id="image-type-large-radio" name="image-type" value="large" class="clickable"><label for="image-type-large-radio" class="list-option">Large</label>
              </div>

              <div class="list-option">
                <input type="radio" id="image-type-png-radio" name="image-type" value="png" class="clickable" checked><label for="image-type-png-radio" class="list-option">PNG (highest quality)</label>
              </div>

              <div class="list-option">
                <input type="radio" id="image-type-art-crop-radio" name="image-type" value="art-crop" class="clickable"><label for="image-type-art-crop-radio" class="list-option">Art crop</label>
              </div>

              <div class="list-option">
                <input type="radio" id="image-type-border-crop-radio" name="image-type" value="border-crop" class="clickable"><label for="image-type-border-crop-radio" class="list-option">Border crop</label>
              </div>
            </fieldset>

            <div class="option-box-vertical">
              <div class="list-option">
                <input type="checkbox" id="include-basic-lands" name="include-basic-lands" class="clickable" checked><label for="include-basic-lands" class="list-option">Include basic lands</label>
              </div>

              <div class="list-option">
                <input type="checkbox" id="include-tokens" name="include-tokens" class="clickable" checked><label for="include-tokens" class="list-option">Include associated tokens</label>
              </div>

              <div class="list-option">
                <input type="checkbox" id="deck-diff" name="deck-diff" class="clickable"><label for="deck-diff" class="list-option">Provide two deck lists and print only newly added cards</label>
              </div>

              <fieldset class="boxed option-box">
                <legend>Add custom cards</legend>
                
                <div id="custom-cards-upload-wrapper" class="deck-entry-field file-upload clickable">
                  <input type="file" id="custom-cards-upload" class="file-upload-handler" name="custom-cards-upload" accept="image/*" multiple>
                  <p id="custom-cards-upload-text" class="file-upload-text"></p>
                </div>
                <button id="custom-cards-clear-upload" class="option-button clickable" name="custom-cards-clear-upload">Clear selected files</button>
              </fieldset>
            </div>
          </fieldset>
        </div>

        <fieldset class="boxed option-box">
          <legend id="deck-specifier-select-wrapper"><span id="deck-paste-option" class="deck-specifier-select active boxed">Paste deck list</span><span id="deck-file-option" class="deck-specifier-select clickable boxed">Deck list from file</span></legend>

          <div id="deck-paste-controls" class="boxed deck-entry-box">
            <textarea id="deck-list" class="deck-entry-field" placeholder="Enter deck list here"></textarea>
            <textarea id="old-deck-list" class="deck-entry-field" placeholder="Enter previous deck list here" style="display: none;"></textarea>
            <div class="button-wrapper">
              <button id="proxies-txt-button" class="option-button clickable">Generate proxies</button>
              <button id="proxies-txt-print-button" class="option-button clickable" disabled autocomplete="off">Print generated proxies</button>
            </div>
          </div>

          <div id="deck-file-controls" class="boxed deck-entry-box" style="display: none;">
            <div id="proxies-file-select-wrapper" class="deck-entry-field file-upload clickable">
              <input id="proxies-file-select" class="file-upload-handler" type="file" accept="text/plain,application/json">
              <p id="proxies-file-select-text" class="file-upload-text"></p>
            </div>
            <div id="old-proxies-file-select-wrapper" class="deck-entry-field file-upload clickable" style="display: none;">
              <input id="old-proxies-file-select" class="file-upload-handler" type="file" accept="text/plain,application/json">
              <p id="old-proxies-file-select-text" class="file-upload-text"></p>
            </div>
            <div class="button-wrapper">
              <button id="proxies-file-button" class="option-button clickable">Generate proxies</button>
              <button id="proxies-file-print-button" class="option-button clickable" disabled autocomplete="off">Print generated proxies</button>
            </div>
          </div>
        </fieldset>

        <div class="flex-padding"></div>
      </div>

      <hr class="optionsDivider">
    </div>
    
    <div id="proxies"></div>
  </body>
</html>